<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>US Homicides</title>

    <!--Load jQuery and fullpage tags -->

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fullPage.js/3.0.1/fullpage.min.js"></script>

    <!-- load d3 -->
    <script src="https://d3js.org/d3.v4.min.js"></script>
    <script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>
    <script src="https://d3js.org/topojson.v2.min.js"></script>

    <!--We will overide some default styles here -->
    <link rel="stylesheet" href='styles.css'>
    <!-- Adding fullpage.css is essential-->
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/fullPage.js/3.0.1/fullpage.min.css" />
  </head>
  <body>

    <div id="fullpage">
      <div class="section">
        <p>Homicides By State</p>
        <svg id="yearmap" width="960", height="500"></svg>
      </div>
      <div class="section">
        <p>Section 2</p>
        <svg id="circles" width="960", height="960"></svg>
      </div>
      <div class="section">
        <p>Section 3</p>
        <svg id="explore" width="960", height="960"></svg>
      </div>
    </div>

    <!--Custom script -->
    <script type="text/javascript">
        $(document).ready(function(){
          $("#fullpage").fullpage({
            //fullpage options
            licenseKey:"OPEN-SOURCE-GPLV3-LICENSE"
          });  
        });


      //Display map on first screen
      var mapSvg = d3.select("#yearmap");

      var path = d3.geoPath();

      //Based on example at https://bl.ocks.org/mbostock/4090848

      d3.json("https://d3js.org/us-10m.v1.json", function(error, us) {
        if (error) throw error;

        mapSvg.append("g")
            .attr("class", "states")
            .selectAll("path")
            .data(topojson.feature(us, us.objects.states).features)
            .enter().append("path")
            .attr("d", path);

        mapSvg.append("path")
            .attr("class", "state-borders")
            .attr("d", path(topojson.mesh(us, us.objects.states, function(a, b) { return a !== b; })));
      });
        
    </script>
  </body>
</html>